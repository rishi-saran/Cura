{% load static %}
<!-- templates/doctor/doctor_view_journals.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
  />
  <title>{{ profile.name }}'s Journal Entries</title>
  <style>
    html, body { max-width:100%; overflow-x:hidden; }
    body { font-family:'Segoe UI', sans-serif; background:#f5f7fa; padding:1.2rem; margin:0; }
    .topbar { display:flex; align-items:center; justify-content:space-between; margin-bottom:1rem; }
    .back-arrow { font-size:30px; color:#3a2370; text-decoration:none; padding-left:5px; transition:.2s; }
    .back-arrow:hover { transform:translateX(-4px); }
    .btn { padding:.6rem .9rem; background:#28a745; color:#fff; border-radius:8px; text-decoration:none; font-weight:600; }
    h2 { color:#222; font-size:22px; margin:0; }
    .entry-card { background:#fff; border-left:4px solid #28a745; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,.05); padding:1rem 1.2rem; margin-bottom:1rem; }
    a.view-link { display:inline-block; margin-top:.5rem; text-decoration:none; color:#007bff; }
    a.view-link:hover { text-decoration:underline; }
  </style>
</head>
<body>
  <div class="topbar">
    <a href="{% url 'view_user_and_family' profile.user.id %}" class="back-arrow">&#8592;</a>
    <h2>Journal Entries â€“ {{ profile.name }}</h2>
    <a class="btn" href="{% url 'doctor_add_note_for_user' profile.user.id %}">Give Notes</a>
  </div>

  {% if journal_entries %}
    {% for journal in journal_entries %}
      <div class="entry-card">
        <strong>Date:</strong> {{ journal.timestamp|date:"Y-m-d H:i" }}<br>
        <strong>Pain Level:</strong> {{ journal.pain_level }}<br>
        <strong>Energy Level:</strong> {{ journal.energy_level }}<br>
        <a class="view-link" href="{% url 'view_single_entry' journal.id %}">ðŸ“ˆ View Full Entry with Graph</a>
      </div>
    {% endfor %}
  {% else %}
    <p>No journal entries found for {{ profile.name }}.</p>
  {% endif %}
</body>
</html>
