{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0" />
  <title>{{ user_profile.name|default:user.username }}'s Home</title>
  <link rel="stylesheet" href="{% static 'assets/css/styles.css' %}" />
</head>

<body>
  <div class="container">
    <!-- â”€â”€â”€ Header Section â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div class="header">
      <h1>
        ðŸ‘‹ Hi
        {% if is_family %}
        {{ user_profile.name }} ({{ user_profile.relationship }})
        {% else %}
        {{ user_profile.name|default:user.username }}
        {% endif %}
      </h1>

      {% if assigned_doctor %}
      <p class="doctor-info">
        Your doctor: Dr. {{ assigned_doctor.doctor_full_name }} ({{ assigned_doctor.doctor_speciality }})
      </p>
      {% else %}
      <p class="doctor-info">No doctor assigned yet.</p>
      {% endif %}

      {% if user_profile.photo %}
      <img src="{{ user_profile.photo.url }}" alt="Profile Picture" />
      {% else %}
      <img src="{% static 'assets/images/profile.png' %}" alt="Profile Picture" />
      {% endif %}
    </div>

    <!-- â”€â”€â”€ Feature Cards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div class="family-section">
      <a href="{% url 'symptom' %}" class="family-card">
        <h3>Tracking</h3>
        <img src="{% static 'assets/images/calender.png' %}" alt="Calender" />
      </a>
      <a href="{% url 'medications' %}" class="family-card">
        <h3>Medications</h3>
        <img src="{% static 'assets/images/medi.png' %}" alt="Medi" />
      </a>
      {% if is_family %}
      <!-- On a family member dashboard -->
      <a href="{% url 'patient_family_doctor_notes' user_profile.id %}" class="family-card">
        <h3>Doctor Notes</h3>
        <img src="{% static 'assets/images/notes.png' %}" alt="Notes" />
      </a>
      {% else %}
      <!-- On the main user's dashboard -->
      <a href="{% url 'patient_doctor_notes' %}" class="family-card">
        <h3>Doctor Notes</h3>
        <img src="{% static 'assets/images/notes.png' %}" alt="Notes" />
      </a>
      {% endif %}


      <div class="family-card">
        <h3>Online Chat</h3>
        <img src="{% static 'assets/images/chat.png' %}" alt="Chat" />
      </div>

      {% if is_family %}
      <a href="{% url 'family_journal' user_profile.id %}" class="family-card">
        {% else %}
        <a href="{% url 'journal' %}" class="family-card">
          {% endif %}
          <h3>My Journal</h3>
          <img src="{% static 'assets/images/jour.png' %}" alt="Papers" />
        </a>

        <a href="{% url 'appointments' %}" class="family-card">
          <h3>Appointments</h3>
          <img src="{% static 'assets/images/appoint.png' %}" alt="Papers" />
        </a>
        <a href="{% url 'activity' %}" class="family-card">
          <h3>My Activity</h3>
          <img src="{% static 'assets/images/acti.png' %}" alt="Papers" />
        </a>
    </div>
  </div>

  <!-- â”€â”€â”€ Bottom Navigation Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="bottom-nav">
    <a href="{% url 'famil' %}"><img src="{% static 'assets/images/navbar/modules-active.png' %}" /></a>
    <a href="{% url 'leaderboard' %}"><img src="{% static 'assets/images/navbar/graph.png' %}" /></a>
    <a href="{% url 'notifications' %}"><img src="{% static 'assets/images/navbar/bell.png' %}" /></a>
    <a href="{% url 'settings' %}"><img src="{% static 'assets/images/navbar/settings.png' %}" /></a>
  </div>

  <!-- Scripts and Chatbot -->
  <script src="{% static 'assets/js/scripts.js' %}"></script>
  {% include 'chatbot.html' %}
</body>

</html>